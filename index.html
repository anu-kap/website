<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anurag Kapila - Portfolio</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --text-primary: #0f172a;
            --text-secondary: #64748b;
            --text-tertiary: #94a3b8;
            --text-accent: #3b82f6;
            --border-light: #e2e8f0;
            --border-medium: #cbd5e1;
            --card-bg: #ffffff;
            --card-hover: rgba(248, 250, 252, 0.8);
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-text: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --blur-bg: rgba(255, 255, 255, 0.8);
        }

        [data-theme="dark"] {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-tertiary: #64748b;
            --text-accent: #60a5fa;
            --border-light: #334155;
            --border-medium: #475569;
            --card-bg: #1e293b;
            --card-hover: rgba(30, 41, 59, 0.8);
            --gradient-text: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
            --blur-bg: rgba(15, 23, 42, 0.8);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--blur-bg);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-light);
            z-index: 100;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            height: 70px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 0.75rem;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--text-accent);
            background: var(--card-hover);
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .mobile-menu-btn {
            display: none;
            background: var(--card-bg);
            border: 1px solid var(--border-light);
            color: var(--text-primary);
            padding: 0.75rem;
            border-radius: 1rem;
            cursor: pointer;
            font-size: 1.1rem;
        }

        .theme-toggle {
            background: var(--card-bg);
            border: 1px solid var(--border-light);
            color: var(--text-primary);
            padding: 0.75rem;
            border-radius: 1rem;
            cursor: pointer;
            font-size: 1.1rem;
        }

        /* Main Content */
        .main {
            margin-top: 70px;
            min-height: calc(100vh - 70px);
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Section */
        .hero {
            padding: 6rem 0 4rem;
            text-align: center;
            background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
        }

        .profile-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--border-light);
            box-shadow: var(--shadow-lg);
            margin: 0 auto 2rem;
            display: block;
            transition: transform 0.3s ease;
        }

        .profile-image:hover {
            transform: scale(1.05);
        }

        .hero-name {
            font-size: clamp(3rem, 8vw, 5rem);
            font-weight: 800;
            margin-bottom: 1rem;
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-title {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-weight: 500;
        }

        .hero-bio {
            max-width: 600px;
            margin: 0 auto 3rem;
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .contact-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .contact-link {
            padding: 1rem 2rem;
            background: var(--gradient-primary);
            color: white;
            text-decoration: none;
            border-radius: 1rem;
            font-weight: 600;
            transition: transform 0.3s ease;
            box-shadow: var(--shadow-md);
        }

        .contact-link:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        /* Section Headers */
        .section-header {
            text-align: center;
            margin-bottom: 4rem;
            padding-top: 4rem;
        }

        .section-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Cards */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .card {
            background: var(--card-bg);
            border: 1px solid var(--border-light);
            border-radius: 1.5rem;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .card-meta {
            color: var(--text-tertiary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .card-summary {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        .tech-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .tech-tag {
            background: var(--bg-tertiary);
            color: var(--text-accent);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.85rem;
            font-weight: 600;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 200;
            backdrop-filter: blur(8px);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 2rem;
            padding: 3rem;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            margin: 1rem;
            box-shadow: var(--shadow-xl);
            position: relative;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .modal-description {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 2rem;
        }

        .modal-links {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 2rem;
        }

        .modal-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-tertiary);
            color: var(--text-accent);
            text-decoration: none;
            border-radius: 1rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .modal-link:hover {
            background: var(--text-accent);
            color: white;
        }

        .media-gallery h4 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }

        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .media-item {
            position: relative;
            border-radius: 1rem;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .media-item:hover {
            transform: translateY(-4px);
        }

        .media-item img,
        .media-item video {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.75rem;
            border-radius: 1rem;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Media Viewer */
        .media-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 300;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .media-viewer.active {
            display: flex;
        }

        .media-viewer-content {
            max-width: 90vw;
            max-height: 90vh;
            position: relative;
        }

        .media-viewer img,
        .media-viewer video {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
        }

        /* Skills */
        .skills-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .skills-category {
            background: var(--card-bg);
            border: 1px solid var(--border-light);
            border-radius: 1.5rem;
            padding: 2rem;
        }

        .skills-category h3 {
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .skill-item {
            background: var(--bg-secondary);
            padding: 0.75rem 1rem;
            border-radius: 1rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .skill-item:hover {
            background: var(--text-accent);
            color: white;
        }

        /* Education */
        .education-card {
            background: var(--card-bg);
            border: 1px solid var(--border-light);
            border-radius: 2rem;
            padding: 3rem;
            box-shadow: var(--shadow-md);
        }

        .education-degree {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .education-gpa {
            display: inline-block;
            background: var(--gradient-primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            font-weight: 600;
            margin-top: 1rem;
        }

        .coursework {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .course {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 1rem;
        }

        /* Loading */
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 50vh;
        }

        .loading-spinner {
            width: 3rem;
            height: 3rem;
            border: 3px solid var(--border-light);
            border-top: 3px solid var(--text-accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .nav-links {
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background: var(--blur-bg);
                backdrop-filter: blur(20px);
                flex-direction: column;
                padding: 1.5rem;
                gap: 1rem;
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: all 0.3s ease;
                z-index: 90;
            }

            .nav-links.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }

            .nav-links a {
                display: block;
                width: 100%;
                text-align: center;
                padding: 1.25rem;
                background: var(--card-bg);
                border: 1px solid var(--border-light);
                border-radius: 1rem;
            }

            .hero {
                padding: 4rem 0 3rem;
            }

            .cards-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: 2rem;
                margin: 0.5rem;
            }

            .skills-container {
                grid-template-columns: 1fr;
            }

            body.mobile-menu-open {
                overflow: hidden;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="logo">Anurag Kapila</div>
                <ul class="nav-links">
                    <li><a href="#" onclick="showSection('home'); closeMobileMenu();" class="active">Home</a></li>
                    <li><a href="#" onclick="showSection('experience'); closeMobileMenu();">Experience</a></li>
                    <li><a href="#" onclick="showSection('projects'); closeMobileMenu();">Projects</a></li>
                    <li><a href="#" onclick="showSection('awards'); closeMobileMenu();">Awards</a></li>
                    <li><a href="#" onclick="showSection('education'); closeMobileMenu();">Education</a></li>
                    <li><a href="#" onclick="showSection('skills'); closeMobileMenu();">Skills</a></li>
                </ul>
                <div class="nav-controls">
                    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                        <span id="menu-icon">☰</span>
                    </button>
                    <button class="theme-toggle" onclick="toggleTheme()">
                        <span id="theme-icon">🌙</span>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div id="loading" class="loading">
                <div class="loading-spinner"></div>
                <p>Loading portfolio...</p>
            </div>
            
            <!-- Home Section -->
            <section id="home" class="section">
                <div class="hero">
                    <img id="profile-image" class="profile-image" src="" alt="Profile" style="display: none;">
                    <h1 class="hero-name" id="hero-name">Anurag Kapila</h1>
                    <p class="hero-title" id="hero-title">Mathematics & Computer Science Student</p>
                    <p class="hero-bio" id="hero-bio">Loading...</p>
                    <div class="contact-links" id="contact-links">
                        <!-- Links populated dynamically -->
                    </div>
                </div>
            </section>

            <!-- Experience Section -->
            <section id="experience" class="section">
                <div class="section-header">
                    <h2 class="section-title">Experience</h2>
                </div>
                <div id="experience-cards" class="cards-grid"></div>
            </section>

            <!-- Projects Section -->
            <section id="projects" class="section">
                <div class="section-header">
                    <h2 class="section-title">Projects</h2>
                </div>
                <div id="projects-cards" class="cards-grid"></div>
            </section>

            <!-- Awards Section -->
            <section id="awards" class="section">
                <div class="section-header">
                    <h2 class="section-title">Awards</h2>
                </div>
                <div id="awards-cards" class="cards-grid"></div>
            </section>

            <!-- Education Section -->
            <section id="education" class="section">
                <div class="section-header">
                    <h2 class="section-title">Education</h2>
                </div>
                <div id="education-content"></div>
            </section>

            <!-- Skills Section -->
            <section id="skills" class="section">
                <div class="section-header">
                    <h2 class="section-title">Skills</h2>
                </div>
                <div id="skills-content" class="skills-container"></div>
            </section>
        </div>
    </main>

    <!-- Modal -->
    <div id="modal" class="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closeModal()">&times;</button>
            <h2 class="modal-title" id="modal-title"></h2>
            <div class="card-meta" id="modal-meta"></div>
            <div class="modal-description" id="modal-description"></div>
            <div class="modal-links" id="modal-links"></div>
            <div class="media-gallery" id="modal-media"></div>
            <div class="tech-tags" id="modal-tech"></div>
        </div>
    </div>

    <!-- Media Viewer -->
    <div id="media-viewer" class="media-viewer" onclick="closeMediaViewer(event)">
        <div class="media-viewer-content" onclick="event.stopPropagation()">
            <img id="viewer-image" style="display: none;" alt="Media">
            <video id="viewer-video" style="display: none;" controls></video>
        </div>
    </div>

    <script>
        let portfolioData = null;

        // Embedded portfolio data
        function getPortfolioData() {
            return {
                "personal": {
                    "name": "Anurag Kapila",
                    "email": "akapila@cs.cmu.edu",
                    "linkedin": "http://linkedin.com/in/anurag-kapila",
                    "title": "Mathematics & Computer Science Student",
                    "bio": "Passionate about machine learning, deep learning, and computational research. Currently pursuing B.S. in Mathematics and Computer Science at Carnegie Mellon University.",
                    "profileImage": "",
                    "links": [
                        {
                            "name": "Email",
                            "url": "mailto:akapila@cs.cmu.edu",
                            "icon": "✉️"
                        },
                        {
                            "name": "LinkedIn",
                            "url": "http://linkedin.com/in/anurag-kapila",
                            "icon": "🔗"
                        },
                        {
                            "name": "GitHub",
                            "url": "https://github.com/anuragkapila",
                            "icon": "💻"
                        }
                    ]
                },
                "education": {
                    "degree": "B.S. Mathematics and Computer Science",
                    "school": "Carnegie Mellon University",
                    "location": "Pittsburgh, PA",
                    "graduation": "May 2027",
                    "gpa": "3.7/4.0",
                    "coursework": [
                        "Probability and Computing",
                        "Intro to Computer Systems", 
                        "Constructive Logic",
                        "Principles of Imperative Computation",
                        "Principles of Functional Programming",
                        "Putnam Seminar",
                        "Multivariable Calculus"
                    ]
                },
                "experience": [
                    {
                        "id": "greychain",
                        "title": "Machine Learning Intern",
                        "company": "Grey Chain AI",
                        "period": "July 2025 - August 2025",
                        "summary": "Built enterprise-grade FastAPI for document metadata extraction",
                        "description": "Developed a comprehensive document processing solution from scratch, implementing advanced OCR techniques with PyTesseract for data ingestion. Created a custom RAG (Retrieval Augmented Generation) pipeline with model-agnostic retrieval capabilities, preset to Gemini 2.5 Flash for optimal performance.",
                        "technologies": ["FastAPI", "PyTesseract", "RAG", "Gemini 2.5 Flash", "OCR", "Python"],
                        "links": [],
                        "media": {
                            "images": [],
                            "videos": []
                        }
                    },
                    {
                        "id": "packed",
                        "title": "SDE Intern",
                        "company": "Packed AI", 
                        "period": "May 2025 – July 2025",
                        "summary": "Enhanced AI search capabilities through RAG implementation",
                        "description": "Focused on improving AI-powered search functionality by implementing Retrieval Augmented Generation (RAG) systems. Built automated SQL command generation tools for seamless database integration. Deployed scalable applications using AWS cloud services and Docker containerization.",
                        "technologies": ["RAG", "SQL", "AWS", "Docker", "Python"],
                        "links": [],
                        "media": {
                            "images": [],
                            "videos": []
                        }
                    },
                    {
                        "id": "cmu_research",
                        "title": "Deep Learning Researcher",
                        "company": "Carnegie Mellon University",
                        "period": "December 2024 - Present",
                        "summary": "Research Assistant in Dr. Oana Carja's lab",
                        "description": "Working on cutting-edge medical AI applications, specifically developing CNN architectures for blood vessel segmentation in H&E-stained histological images. Created computational models for cfDNA fragmentation to generate synthetic training data.",
                        "technologies": ["CNN", "PyTorch", "Medical Imaging", "Computer Vision"],
                        "links": [],
                        "media": {
                            "images": [],
                            "videos": []
                        }
                    },
                    {
                        "id": "nexus",
                        "title": "AI Program Instructor", 
                        "company": "Nexus AI (Remote)",
                        "period": "March 2025 - July 2025",
                        "summary": "Taught comprehensive AI curriculum covering LLMs, CNNs, GANs",
                        "description": "Designed and delivered comprehensive AI education program covering Large Language Models, Convolutional Neural Networks, and Generative Adversarial Networks. Created hands-on projects utilizing OpenAI and LangChain APIs.",
                        "technologies": ["LLMs", "CNNs", "GANs", "OpenAI API", "LangChain", "PyTorch"],
                        "links": [],
                        "media": {
                            "images": [],
                            "videos": []
                        }
                    },
                    {
                        "id": "duke",
                        "title": "Computational Chemistry Researcher",
                        "company": "Duke University",
                        "period": "May 2023 - December 2023", 
                        "summary": "Analyzed binding of trypsin complexes using K* algorithm",
                        "description": "Collaborated with Duke Ph.D. candidates on advanced computational chemistry research. Applied the K* algorithm from the OSPREY computational suite to analyze molecular binding interactions of various trypsin complexes.",
                        "technologies": ["OSPREY Suite", "K* Algorithm", "Molecular Modeling"],
                        "links": [],
                        "media": {
                            "images": [],
                            "videos": []
                        }
                    }
                ],
                "awards": [
                    {
                        "id": "hrt_hackathon",
                        "title": "HRT x CMU Hackathon - 2nd Place",
                        "date": "November 2024",
                        "summary": "2nd place out of 129 participants",
                        "description": "Achieved 2nd place in the prestigious Hudson River Trading x Carnegie Mellon School of Computer Science Hack 112 Competition. Developed an innovative multiplayer game leveraging graph theory and BFS algorithms.",
                        "technologies": ["Graph Theory", "BFS Algorithm", "Game Development"],
                        "links": [],
                        "media": {
                            "images": [],
                            "videos": []
                        }
                    },
                    {
                        "id": "usnco", 
                        "title": "3X USNCO National Honors Distinction",
                        "date": "October 2020 - February 2024",
                        "summary": "Top 150 nationally in U.S. National Chemistry Olympiad",
                        "description": "Consistently achieved Honors Distinction (Top 150 nationally) three times in the highly competitive U.S. National Chemistry Olympiad. Ranked in the top 2 at school level.",
                        "technologies": ["Analytical Chemistry", "Organic Chemistry", "Physical Chemistry"],
                        "links": [],
                        "media": {
                            "images": [],
                            "videos": []
                        }
                    }
                ],
                "skills": {
                    "programming": ["Python", "Java", "C", "C++", "JavaScript", "HTML", "CSS", "SQL"],
                    "frameworks": ["TensorFlow", "PyTorch", "React", "Flask", "FastAPI"],
                    "specialties": ["Machine Learning", "Deep Learning", "Computer Vision", "RAG", "PyTorch Modeling"],
                    "tools": ["AWS", "Docker", "Git", "OCR", "OSPREY Suite"]
                },
                "projects": [
                    {
                        "id": "sample_project",
                        "title": "Add Your Projects Here",
                        "summary": "Update portfolio-data.json to add your projects",
                        "description": "To add your projects, create a portfolio-data.json file in the same directory. You can include multiple links and media galleries for each project.",
                        "technologies": ["JSON", "Configuration"],
                        "links": [
                            {
                                "name": "GitHub Repository",
                                "url": "https://github.com/yourusername/project",
                                "icon": "💻"
                            }
                        ],
                        "media": {
                            "images": [],
                            "videos": []
                        }
                    }
                ]
            };
        }

        // Load portfolio data
        async function loadData() {
            portfolioData = getPortfolioData();
            
            // Try to load external JSON if available
            try {
                const response = await fetch('./portfolio-data.json');
                if (response.ok) {
                    const externalData = await response.json();
                    portfolioData = externalData;
                    console.log('✅ Loaded external portfolio data');
                }
            } catch (error) {
                console.log('📄 Using embedded portfolio data');
            }
            
            initializePortfolio();
            document.getElementById('loading').style.display = 'none';
            showSection('home');
        }

        // Initialize portfolio
        function initializePortfolio() {
            if (!portfolioData) return;

            // Update hero section
            document.getElementById('hero-name').textContent = portfolioData.personal.name;
            document.getElementById('hero-title').textContent = portfolioData.personal.title;
            document.getElementById('hero-bio').textContent = portfolioData.personal.bio;
            
            // Profile image
            const profileImage = document.getElementById('profile-image');
            if (portfolioData.personal.profileImage && portfolioData.personal.profileImage.trim() !== '') {
                profileImage.src = portfolioData.personal.profileImage;
                profileImage.style.display = 'block';
            }
            
            // Contact links
            const contactLinksContainer = document.getElementById('contact-links');
            if (portfolioData.personal.links && portfolioData.personal.links.length > 0) {
                contactLinksContainer.innerHTML = portfolioData.personal.links.map(link => 
                    `<a href="${link.url}" class="contact-link" target="_blank">${link.icon} ${link.name}</a>`
                ).join('');
            } else {
                contactLinksContainer.innerHTML = `
                    <a href="mailto:${portfolioData.personal.email}" class="contact-link">✉️ Email</a>
                    <a href="${portfolioData.personal.linkedin}" class="contact-link" target="_blank">🔗 LinkedIn</a>
                `;
            }

            generateExperienceCards();
            generateProjectCards();
            generateAwardCards();
            generateEducationContent();
            generateSkillsContent();
        }

        // Generate cards
        function generateExperienceCards() {
            const container = document.getElementById('experience-cards');
            container.innerHTML = portfolioData.experience.map(exp => `
                <div class="card" onclick="openModal('${exp.id}', 'experience')">
                    <div class="card-title">${exp.title}</div>
                    <div class="card-meta">${exp.company} • ${exp.period}</div>
                    <div class="card-summary">${exp.summary}</div>
                    <div class="tech-tags">
                        ${exp.technologies.slice(0, 4).map(tech => `<span class="tech-tag">${tech}</span>`).join('')}
                        ${exp.technologies.length > 4 ? `<span class="tech-tag">+${exp.technologies.length - 4} more</span>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function generateProjectCards() {
            const container = document.getElementById('projects-cards');
            container.innerHTML = portfolioData.projects.map(project => `
                <div class="card" onclick="openModal('${project.id}', 'projects')">
                    <div class="card-title">${project.title}</div>
                    <div class="card-summary">${project.summary}</div>
                    <div class="tech-tags">
                        ${project.technologies.slice(0, 4).map(tech => `<span class="tech-tag">${tech}</span>`).join('')}
                        ${project.technologies.length > 4 ? `<span class="tech-tag">+${project.technologies.length - 4} more</span>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function generateAwardCards() {
            const container = document.getElementById('awards-cards');
            container.innerHTML = portfolioData.awards.map(award => `
                <div class="card" onclick="openModal('${award.id}', 'awards')">
                    <div class="card-title">${award.title}</div>
                    <div class="card-meta">🏆 ${award.date}</div>
                    <div class="card-summary">${award.summary}</div>
                    ${award.technologies ? `<div class="tech-tags">
                        ${award.technologies.slice(0, 4).map(tech => `<span class="tech-tag">${tech}</span>`).join('')}
                    </div>` : ''}
                </div>
            `).join('');
        }

        function generateEducationContent() {
            const container = document.getElementById('education-content');
            const edu = portfolioData.education;
            container.innerHTML = `
                <div class="education-card">
                    <div class="education-degree">${edu.degree}</div>
                    <div class="card-meta">${edu.school} • ${edu.location}</div>
                    <div class="card-meta">Expected Graduation: ${edu.graduation}</div>
                    <div class="education-gpa">GPA: ${edu.gpa}</div>
                    <h4 style="margin: 2rem 0 1rem 0;">📚 Relevant Coursework</h4>
                    <div class="coursework">
                        ${edu.coursework.map(course => `<div class="course">${course}</div>`).join('')}
                    </div>
                </div>
            `;
        }

        function generateSkillsContent() {
            const container = document.getElementById('skills-content');
            const skills = portfolioData.skills;
            container.innerHTML = `
                <div class="skills-category">
                    <h3>💻 Programming Languages</h3>
                    <div class="skills-list">
                        ${skills.programming.map(skill => `<div class="skill-item">${skill}</div>`).join('')}
                    </div>
                </div>
                <div class="skills-category">
                    <h3>🚀 Frameworks & Libraries</h3>
                    <div class="skills-list">
                        ${skills.frameworks.map(skill => `<div class="skill-item">${skill}</div>`).join('')}
                    </div>
                </div>
                <div class="skills-category">
                    <h3>🎯 Specialties</h3>
                    <div class="skills-list">
                        ${skills.specialties.map(skill => `<div class="skill-item">${skill}</div>`).join('')}
                    </div>
                </div>
                <div class="skills-category">
                    <h3>🛠️ Tools & Technologies</h3>
                    <div class="skills-list">
                        ${skills.tools.map(skill => `<div class="skill-item">${skill}</div>`).join('')}
                    </div>
                </div>
            `;
        }

        // Navigation functions
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionName).classList.add('active');
            
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
            });
            const targetLink = document.querySelector(`.nav-links a[onclick*="showSection('${sectionName}')"]`);
            if (targetLink) {
                targetLink.classList.add('active');
            }
        }

        // Mobile menu functions
        function toggleMobileMenu() {
            const navLinks = document.querySelector('.nav-links');
            const menuIcon = document.getElementById('menu-icon');
            const body = document.body;
            
            navLinks.classList.toggle('active');
            body.classList.toggle('mobile-menu-open');
            
            if (navLinks.classList.contains('active')) {
                menuIcon.textContent = '✕';
            } else {
                menuIcon.textContent = '☰';
            }
        }

        function closeMobileMenu() {
            const navLinks = document.querySelector('.nav-links');
            const menuIcon = document.getElementById('menu-icon');
            const body = document.body;
            
            navLinks.classList.remove('active');
            body.classList.remove('mobile-menu-open');
            menuIcon.textContent = '☰';
        }

        // Modal functions
        function openModal(id, type) {
            const item = portfolioData[type].find(item => item.id === id);
            if (!item) return;

            document.getElementById('modal-title').textContent = item.title;
            document.getElementById('modal-meta').textContent = 
                type === 'experience' ? `${item.company} • ${item.period}` :
                type === 'awards' ? `🏆 ${item.date}` : '';
            
            document.getElementById('modal-description').innerHTML = item.description;
            
            // Links
            const linksContainer = document.getElementById('modal-links');
            if (item.links && item.links.length > 0) {
                linksContainer.innerHTML = item.links.map(link => 
                    `<a href="${link.url}" class="modal-link" target="_blank">${link.icon} ${link.name}</a>`
                ).join('');
            } else {
                linksContainer.innerHTML = '';
            }
            
            // Media gallery
            const mediaContainer = document.getElementById('modal-media');
            if (item.media && (item.media.images.length > 0 || item.media.videos.length > 0)) {
                let mediaHTML = '<h4>📸 Media Gallery</h4><div class="media-grid">';
                
                item.media.images.forEach(imagePath => {
                    if (imagePath && imagePath.trim() !== '') {
                        mediaHTML += `
                            <div class="media-item" onclick="openMediaViewer('${imagePath}', 'image')">
                                <img src="${imagePath}" alt="Media" loading="lazy">
                            </div>
                        `;
                    }
                });
                
                item.media.videos.forEach(videoPath => {
                    if (videoPath && videoPath.trim() !== '') {
                        mediaHTML += `
                            <div class="media-item" onclick="openMediaViewer('${videoPath}', 'video')">
                                <video src="${videoPath}" preload="metadata"></video>
                            </div>
                        `;
                    }
                });
                
                mediaHTML += '</div>';
                mediaContainer.innerHTML = mediaHTML;
            } else {
                mediaContainer.innerHTML = '';
            }
            
            // Tech tags
            if (item.technologies && item.technologies.length > 0) {
                document.getElementById('modal-tech').innerHTML = 
                    item.technologies.map(tech => `<span class="tech-tag">${tech}</span>`).join('');
            } else {
                document.getElementById('modal-tech').innerHTML = '';
            }

            document.getElementById('modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(event) {
            if (event && event.target !== document.getElementById('modal')) return;
            
            document.getElementById('modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Media viewer functions
        function openMediaViewer(src, type) {
            const viewer = document.getElementById('media-viewer');
            const img = document.getElementById('viewer-image');
            const video = document.getElementById('viewer-video');
            
            if (type === 'image') {
                img.src = src;
                img.style.display = 'block';
                video.style.display = 'none';
                video.pause();
            } else if (type === 'video') {
                video.src = src;
                video.style.display = 'block';
                img.style.display = 'none';
            }
            
            viewer.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeMediaViewer(event) {
            if (event && event.target !== document.getElementById('media-viewer')) return;
            
            const viewer = document.getElementById('media-viewer');
            const video = document.getElementById('viewer-video');
            
            viewer.classList.remove('active');
            video.pause();
            document.body.style.overflow = 'auto';
        }

        // Theme toggle
        function toggleTheme() {
            const html = document.documentElement;
            const themeIcon = document.getElementById('theme-icon');
            
            if (html.getAttribute('data-theme') === 'dark') {
                html.removeAttribute('data-theme');
                themeIcon.textContent = '🌙';
                localStorage.setItem('theme', 'light');
            } else {
                html.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '☀️';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Initialize theme
        function initializeTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                document.getElementById('theme-icon').textContent = '☀️';
            }
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            const navLinks = document.querySelector('.nav-links');
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            
            if (navLinks.classList.contains('active') && 
                !navLinks.contains(e.target) && 
                !mobileMenuBtn.contains(e.target)) {
                closeMobileMenu();
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (document.getElementById('media-viewer').classList.contains('active')) {
                    closeMediaViewer();
                } else if (document.getElementById('modal').classList.contains('active')) {
                    closeModal();
                }
            }
        });

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            initializeTheme();
            loadData();
        });
    </script>
</body>
</html>
